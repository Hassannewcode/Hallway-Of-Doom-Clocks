<!DOCTYPE html>
<html lang="en" data-theme="dark">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Hallway of Doom Clocks</title>
  <meta name="description" content="Real-time symbolic countdowns for existential risks — Doomsday, Climate, AI, and Islamic perspective." />

  <!-- Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Share+Tech+Mono&family=Space+Grotesk:wght@400;600&display=swap" rel="stylesheet" />

  <!-- GSAP -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>

  <!-- Three.js -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r154/three.min.js"></script>

  <!-- Prism.js for code highlight -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-twilight.min.css" />
  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>

  <style>
    /* RESET + BASE */
    *, *::before, *::after { box-sizing: border-box; }
    html, body {
      margin: 0; padding: 0;
      font-family: 'Space Grotesk', sans-serif;
      background: #0b0b0b;
      color: #e6e6e6;
      line-height: 1.5;
      overflow-x: hidden;
      scroll-behavior: smooth;
    }
    a {
      color: #fa1e0e;
      text-decoration: none;
      transition: color 0.3s ease;
    }
    a:hover, a:focus { color: #ff4b3e; outline: none; }
    h1,h2,h3,h4,h5,h6 {
      font-family: 'Share Tech Mono', monospace;
      margin-bottom: 1rem;
      font-weight: 600;
      letter-spacing: 0.07em;
    }
    h1 { font-size: 3rem; }
    h2 { font-size: 2.25rem; }
    h3 { font-size: 1.75rem; }
    p {
      max-width: 900px;
      margin-bottom: 1.5rem;
      font-weight: 400;
      color: #ddd;
    }
    ul {
      margin-left: 1.25rem;
      margin-bottom: 1.5rem;
    }
    ul li { margin-bottom: 0.6rem; }
    button {
      font-family: 'Space Grotesk', sans-serif;
      cursor: pointer;
      background: #fa1e0e;
      border: none;
      color: #fff;
      padding: 0.8rem 1.2rem;
      border-radius: 6px;
      font-weight: 600;
      letter-spacing: 0.05em;
      user-select: none;
      transition: background-color 0.3s ease;
    }
    button:hover, button:focus {
      background: #ff4b3e;
      outline: none;
    }

    /* Scrollbar */
    ::-webkit-scrollbar {
      width: 10px;
    }
    ::-webkit-scrollbar-track {
      background: #111;
    }
    ::-webkit-scrollbar-thumb {
      background-color: #fa1e0e;
      border-radius: 10px;
      border: 2px solid #111;
    }

    /* LAYOUT CONTAINERS */
    header {
      text-align: center;
      padding: 4rem 1rem 2rem 1rem;
      position: relative;
      z-index: 10;
    }
    header p {
      max-width: 620px;
      margin: 0 auto;
      font-weight: 300;
      font-size: 1.125rem;
      opacity: 0.75;
    }
    main {
      max-width: 980px;
      margin: 0 auto;
      padding: 2rem 1rem 6rem 1rem;
      position: relative;
      z-index: 10;
    }
    section {
      margin-bottom: 6rem;
      opacity: 0;
      transform: translateY(60px);
    }
    section.active {
      opacity: 1 !important;
      transform: translateY(0) !important;
      transition: opacity 1s ease, transform 1s ease;
    }

    /* CLOCK DISPLAYS */
    .clock-display {
      font-family: 'Share Tech Mono', monospace;
      font-size: 3.5rem;
      text-align: center;
      color: #50ff75;
      background-color: #111;
      padding: 1.5rem 2rem;
      border-radius: 12px;
      box-shadow:
        0 0 15px #50ff75,
        inset 0 0 12px #0c6d38;
      user-select: none;
      max-width: 320px;
      margin: 2rem auto 0 auto;
      letter-spacing: 0.2em;
    }
    .digital-clock {
      display: flex;
      justify-content: center;
      gap: 0.4rem;
      font-size: 4rem;
      user-select: none;
      margin-top: 2rem;
    }
    .digital-clock .digit {
      background: #0d0d0d;
      color: #50ff75;
      border-radius: 8px;
      padding: 0.3rem 0.8rem;
      width: 2.3rem;
      text-align: center;
      font-weight: 700;
      box-shadow: 0 0 8px #1fa23c;
      transition: all 0.4s ease;
      position: relative;
      overflow: hidden;
    }
    .digital-clock .colon {
      font-weight: 700;
      padding: 0 0.4rem;
      line-height: 1;
      color: #88ff9a;
      user-select: none;
    }
    .digit-rolling {
      animation: rollDigit 0.4s ease forwards;
    }
    @keyframes rollDigit {
      0% { transform: translateY(-100%); opacity: 0; }
      100% { transform: translateY(0); opacity: 1; }
    }

    /* BUTTONS */
    #backToTopBtn {
      position: fixed;
      bottom: 2.5rem;
      right: 2.5rem;
      background: #fa1e0e;
      border-radius: 50%;
      width: 48px;
      height: 48px;
      border: none;
      color: white;
      font-size: 2rem;
      opacity: 0;
      pointer-events: none;
      transition: opacity 0.4s ease;
      z-index: 999;
      display: flex;
      justify-content: center;
      align-items: center;
      user-select: none;
    }
    #backToTopBtn.show {
      opacity: 1;
      pointer-events: auto;
    }

    /* IFRAME STYLES */
    iframe {
      width: 100%;
      height: 350px;
      border: none;
      border-radius: 14px;
      margin-top: 1.75rem;
      box-shadow: 0 0 12px #fa1e0eaa;
      user-select: none;
      pointer-events: auto;
    }

    /* CODE SNIPPET */
    pre {
      background: #111;
      color: #8cff8c;
      padding: 1.2rem 1.5rem;
      border-radius: 10px;
      font-family: 'Share Tech Mono', monospace;
      overflow-x: auto;
      max-width: 100%;
      box-shadow: inset 0 0 20px #0a0;
      user-select: text;
    }

    /* DISCLAIMER BOX */
    .disclaimer {
      background-color: #1b1b1b;
      border-left: 5px solid #fa1e0e;
      padding: 2rem 2rem;
      margin: 3rem auto 6rem auto;
      max-width: 900px;
      box-shadow: 0 0 15px #fa1e0e55;
      user-select: text;
      color: #e4e4e4;
    }
    .disclaimer strong {
      color: #fa1e0e;
    }

    /* ADDITIONAL INFO & FOOTER */
    .additional-info {
      max-width: 900px;
      margin: 0 auto 6rem auto;
      font-size: 1rem;
      color: #aaa;
      line-height: 1.4;
      user-select: text;
    }
    footer {
      text-align: center;
      font-size: 0.9rem;
      color: #666;
      padding-bottom: 4rem;
      user-select: none;
      border-top: 1px solid #222;
      max-width: 900px;
      margin: 0 auto;
    }

    /* THREE.JS HALLWAY CONTAINER */
    #hallway-container {
      position: fixed;
      top: 0; left: 0;
      width: 100vw;
      height: 100vh;
      z-index: 1;
      pointer-events: none;
      user-select: none;
      background: linear-gradient(90deg, #080808 0%, #0f0f0f 40%, #111111 60%, #080808 100%);
    }

    /* RESPONSIVE */
    @media (max-width: 768px) {
      header h1 { font-size: 2.25rem; }
      .clock-display {
        font-size: 2.5rem;
        max-width: 260px;
      }
      .digital-clock {
        font-size: 2.8rem;
        gap: 0.25rem;
      }
      .digital-clock .digit {
        width: 1.8rem;
        padding: 0.25rem 0.5rem;
      }
      iframe { height: 280px; }
    }
  </style>
</head>
<body>
  <!-- 3D hallway background -->
  <div id="hallway-container" aria-hidden="true"></div>

  <header role="banner">
    <h1>Hallway of Doom Clocks</h1>
    <p>Scroll through humanity's symbolic countdowns: scientific, political, and speculative timelines reflecting existential risks.</p>
  </header>

  <main role="main" tabindex="-1">
    <!-- Disclaimer -->
    <section class="disclaimer" role="alert" aria-live="assertive">
      <h2>Disclaimer &amp; Intent</h2>
      <p><strong>Important:</strong> The clocks shown here, including the Doomsday Clock and Climate Clock, are <strong>symbolic human constructs</strong>. They do <em>not</em> represent divine prophecy or a definitive prediction of the future.</p>
      <p>This site aims to <strong>inform and educate</strong> about their historical, political, and scientific context, respecting Islamic teachings about the unknown timing of the Hour.</p>
    </section>

    <!-- Doomsday Clock Section -->
    <section id="doomsday" tabindex="0" aria-label="Doomsday Clock Section" class="reveal">
      <h2>Doomsday Clock</h2>
      <p>Maintained by the <a href="https://thebulletin.org/doomsday-clock/" target="_blank" rel="noopener noreferrer">Bulletin of the Atomic Scientists</a>, this symbolic clock reflects existential risks like nuclear war, climate change, and disruptive tech. It is updated annually by experts based on current global threats.</p>
      <img
        loading="lazy"
        src="https://thebulletin.org/wp-content/uploads/2024/01/2024-DoomsdayClock_Hero-1536x864.jpg"
        alt="Doomsday Clock 2024"
        style="width: 100%; border-radius: 10px; margin: 2rem 0;"
      />
      <div class="clock-display" id="doomsday-time" aria-live="polite" aria-atomic="true" aria-label="Doomsday clock real-time countdown">--:--:--</div>
    </section>

    <!-- Climate Clock Section -->
    <section id="climate" tabindex="0" aria-label="Climate Clock Section" class="reveal">
      <h2>Climate Clock</h2>
      <p>This real-time countdown is sourced from <a href="https://climateclock.world/" target="_blank" rel="noopener noreferrer">climateclock.world</a>, tracking time remaining to limit global warming to 1.5°C based on current trends.</p>
      <iframe
        loading="lazy"
        src="https://climateclock.world/widget/"
        title="Climate Clock Widget"
        width="100%"
        height="350"
        style="border: none; border-radius: 14px; margin-top: 1.5rem; box-shadow: 0 0 12px #fa1e0eaa;"
        aria-label="Climate clock real-time countdown"
      ></iframe>
    </section>

    <!-- AI Singularity Clock Section -->
    <section id="ai" tabindex="0" aria-label="AI Singularity Clock Section" class="reveal">
      <h2>AI Singularity Clock</h2>
      <p>This symbolic clock estimates the progression toward human-level artificial intelligence. It counts down to a speculative date set by researchers and futurists.</p>
      <div class="digital-clock clock-display" id="ai-time" aria-live="polite" aria-atomic="true" aria-label="AI Singularity real-time countdown">
        <div class="digit" aria-hidden="true">0</div>
        <div class="digit" aria-hidden="true">0</div>
        <div class="colon" aria-hidden="true">:</div>
        <div class="digit" aria-hidden="true">0</div>
        <div class="digit" aria-hidden="true">0</div>
        <div class="colon" aria-hidden="true">:</div>
        <div class="digit" aria-hidden="true">0</div>
        <div class="digit" aria-hidden="true">0</div>
      </div>
    </section>

    <!-- Islamic Perspective Section -->
    <section id="islamic-view" tabindex="0" aria-label="Islamic Perspective Section" class="reveal">
      <h2>Islamic Perspective on Predicting the Future</h2>
      <p>In Islam, <strong>only Allah knows the exact time of the Hour</strong> (Day of Judgment). Human predictions about the end of the world are speculative and not rooted in divine revelation.</p>
      <ul>
        <li><strong>Qur’an 31:34:</strong> "Indeed, Allah [alone] has knowledge of the Hour."</li>
        <li><strong>Qur’an 7:187:</strong> "They ask you about the Hour—when will it come? Say: Its knowledge is only with my Lord."</li>
        <li><strong>Qur’an 33:63:</strong> "People ask you concerning the Hour. Say: Knowledge of it is only with Allah."</li>
      </ul>
      <p>This site respects Islamic teachings and does not promote apocalyptic fear but aims to inform about human-made clocks and metaphors of existential risk.</p>
    </section>

    <!-- Code Snippet Section -->
    <section id="code-snippet" tabindex="0" aria-label="JavaScript Sample Section" class="reveal">
      <h2>JavaScript Sample (Symbolic Countdown Function)</h2>
      <p>This demo snippet shows a symbolic countdown implemented in JavaScript.</p>
      <pre><code class="language-javascript">function countdown(start) {
  let seconds = start;
  setInterval(() => {
    const m = String(Math.floor(seconds / 60)).padStart(2, '0');
    const s = String(seconds % 60).padStart(2, '0');
    console.log(`${m}:${s}`);
    seconds--;
  }, 1000);
}</code></pre>
    </section>
  </main>

  <button id="backToTopBtn" aria-label="Back to top" title="Back to top">↑</button>

  <footer role="contentinfo">
    <p>&copy; 2025 Hallway of Doom • Created for informational and educational purposes.</p>
  </footer>

  <script>
    // GSAP Scroll-trigger animations for fade-in sections
    gsap.registerPlugin(ScrollTrigger);
    gsap.utils.toArray('section.reveal').forEach(section => {
      gsap.fromTo(section, 
        { opacity: 0, y: 60 }, 
        { 
          opacity: 1, 
          y: 0, 
          duration: 1.2, 
          ease: 'power3.out',
          scrollTrigger: {
            trigger: section,
            start: "top 80%",
            end: "bottom 20%",
            toggleActions: "play none none reverse"
          }
        }
      );
    });

    // Back to Top Button Logic
    const backToTopBtn = document.getElementById('backToTopBtn');
    window.addEventListener('scroll', () => {
      if(window.scrollY > 400){
        backToTopBtn.classList.add('show');
      } else {
        backToTopBtn.classList.remove('show');
      }
    });
    backToTopBtn.addEventListener('click', () => {
      window.scrollTo({top: 0, behavior: 'smooth'});
    });

    // --- DOOMSDAY CLOCK (Real Countdown) ---
    // The Doomsday Clock 2024 is set to 90 seconds to midnight (23:58:30)
    // We'll set the "midnight" target as the next UTC midnight and count down to that.
    // The clock shows time left until midnight each day.
    // This is a symbolic approximation.

    const doomsdayDisplay = document.getElementById('doomsday-time');

    function updateDoomsdayClock() {
      const now = new Date();

      // Midnight UTC of next day (adjust if already past midnight)
      let midnight = new Date(Date.UTC(now.getUTCFullYear(), now.getUTCMonth(), now.getUTCDate() + 1));
      
      // The "offset" of 90 seconds to midnight — meaning the clock is actually 1:30 before midnight.
      // So our countdown target is midnight - 90 seconds.
      midnight = new Date(midnight.getTime() - 90 * 1000);

      const diffMs = midnight - now;

      if(diffMs <= 0) {
        doomsdayDisplay.textContent = "00:00:00";
        return;
      }

      // Calculate H:M:S left
      const hours = Math.floor(diffMs / (1000 * 60 * 60));
      const minutes = Math.floor((diffMs % (1000 * 60 * 60)) / (1000 * 60));
      const seconds = Math.floor((diffMs % (1000 * 60)) / 1000);

      // Format with leading zeros
      const hh = String(hours).padStart(2, '0');
      const mm = String(minutes).padStart(2, '0');
      const ss = String(seconds).padStart(2, '0');

      doomsdayDisplay.textContent = `${hh}:${mm}:${ss}`;
    }

    setInterval(updateDoomsdayClock, 1000);
    updateDoomsdayClock();

    // --- AI SINGULARITY CLOCK (Speculative target date) ---
    // For demo: Target date = Dec 31, 2040, 00:00 UTC (adjust as you want)

    const aiDisplay = document.getElementById('ai-time');
    const aiTargetDate = new Date(Date.UTC(2040, 11, 31, 0, 0, 0)); // Dec 31, 2040

    function updateAIClock() {
      const now = new Date();
      let diffMs = aiTargetDate - now;

      if(diffMs <= 0) {
        // Countdown finished
        aiDisplay.querySelectorAll('.digit').forEach(d => d.textContent = '0');
        return;
      }

      const totalSeconds = Math.floor(diffMs / 1000);

      const hours = Math.floor((totalSeconds / 3600) % 100); // max two digits
      const minutes = Math.floor((totalSeconds / 60) % 60);
      const seconds = totalSeconds % 60;

      // Format
      const hh = String(hours).padStart(2, '0');
      const mm = String(minutes).padStart(2, '0');
      const ss = String(seconds).padStart(2, '0');

      const timeStr = hh + mm + ss;

      // Animate digits with roll effect
      const digits = aiDisplay.querySelectorAll('.digit');
      digits.forEach((digitEl, i) => {
        if(digitEl.textContent !== timeStr[i]) {
          digitEl.textContent = timeStr[i];
          digitEl.classList.add('digit-rolling');
          setTimeout(() => digitEl.classList.remove('digit-rolling'), 400);
        }
      });
    }
    setInterval(updateAIClock, 1000);
    updateAIClock();

    // --- THREE.JS 3D HALLWAY BACKGROUND ---
    (() => {
      const container = document.getElementById('hallway-container');
      const scene = new THREE.Scene();

      // Camera
      const camera = new THREE.PerspectiveCamera(60, window.innerWidth / window.innerHeight, 0.1, 1000);
      camera.position.set(0, 2.5, 5);

      // Renderer
      const renderer = new THREE.WebGLRenderer({ antialias: true, alpha: true });
      renderer.setSize(window.innerWidth, window.innerHeight);
      renderer.setClearColor(0x0b0b0b, 1);
      container.appendChild(renderer.domElement);

      // Resize handler
      window.addEventListener('resize', () => {
        camera.aspect = window.innerWidth / window.innerHeight;
        camera.updateProjectionMatrix();
        renderer.setSize(window.innerWidth, window.innerHeight);
      });

      // Floor and Ceiling
      const floorGeom = new THREE.PlaneGeometry(20, 30);
      const floorMat = new THREE.MeshStandardMaterial({ color: 0x111111, roughness: 0.85, metalness: 0.2 });
      const floor = new THREE.Mesh(floorGeom, floorMat);
      floor.rotation.x = -Math.PI / 2;
      floor.position.set(0, 0, -5);
      scene.add(floor);

      const ceiling = new THREE.Mesh(floorGeom, floorMat);
      ceiling.rotation.x = Math.PI / 2;
      ceiling.position.set(0, 5, -5);
      scene.add(ceiling);

      // Walls
      const wallGeom = new THREE.PlaneGeometry(20, 30);
      const wallMat = new THREE.MeshStandardMaterial({ color: 0x111111, roughness: 0.95, metalness: 0 });
      const leftWall = new THREE.Mesh(wallGeom, wallMat);
      leftWall.position.set(-10, 2.5, -5);
      leftWall.rotation.y = Math.PI / 2;
      scene.add(leftWall);

      const rightWall = new THREE.Mesh(wallGeom, wallMat);
      rightWall.position.set(10, 2.5, -5);
      rightWall.rotation.y = -Math.PI / 2;
      scene.add(rightWall);

      // Lighting
      const ambientLight = new THREE.AmbientLight(0x404040, 1.5);
      scene.add(ambientLight);

      const directionalLight = new THREE.DirectionalLight(0xfa1e0e, 0.8);
      directionalLight.position.set(5, 10, 7);
      scene.add(directionalLight);

      // Glowing clocks on left wall
      const clockGeom = new THREE.BoxGeometry(1.6, 1.6, 0.2);
      const clockMat = new THREE.MeshBasicMaterial({
        color: 0x2af598,
        emissive: 0x2af598,
        emissiveIntensity: 0.85,
        transparent: true,
        opacity: 0.9,
      });
      const clocks = [];
      const clockPositions = [
        { x: -8.5, y: 3, z: -2 },
        { x: -8.5, y: 3, z: -5 },
        { x: -8.5, y: 3, z: -8 }
      ];
      clockPositions.forEach(pos => {
        const clockMesh = new THREE.Mesh(clockGeom, clockMat);
        clockMesh.position.set(pos.x, pos.y, pos.z);
        clocks.push(clockMesh);
        scene.add(clockMesh);
        // Point light near each clock
        const pointLight = new THREE.PointLight(0x2af598, 0.8, 4);
        pointLight.position.copy(clockMesh.position);
        scene.add(pointLight);
      });

      // Animate camera moving down hallway loop with subtle sway
      let camZ = 5;
      const camMinZ = -12;
      const camMaxZ = 5;
      const camSpeed = 0.025;
      const swayAmount = 0.4;

      function animate() {
        requestAnimationFrame(animate);

        camZ -= camSpeed;
        if(camZ < camMinZ) camZ = camMaxZ;

        camera.position.z = camZ;
        camera.position.x = Math.sin(camZ * 0.5) * swayAmount;
        camera.lookAt(0, 2.5, camZ - 5);

        renderer.render(scene, camera);
      }
      animate();
    })();
  </script>
</body>
</html>

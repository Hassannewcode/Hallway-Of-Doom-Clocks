<!DOCTYPE html>
<html lang="en" data-theme="dark">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Hallway of Doom Clocks â€” Expanded Version</title>
<meta name="description" content="Real-time symbolic countdowns for existential risks with Islamic calendar, population clock, and interactive 3D hallway." />

<!-- Fonts -->
<link href="https://fonts.googleapis.com/css2?family=Share+Tech+Mono&family=Space+Grotesk:wght@400;600&display=swap" rel="stylesheet" />

<!-- GSAP -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>

<!-- Three.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r154/three.min.js"></script>

<!-- Prism.js for code highlight -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-twilight.min.css" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>

<style>
  /* ===== RESET & BASE ===== */
  *, *::before, *::after { box-sizing: border-box; }
  html, body {
    margin: 0; padding: 0;
    font-family: 'Space Grotesk', sans-serif;
    background: #0b0b0b;
    color: #e6e6e6;
    line-height: 1.5;
    overflow-x: hidden;
    scroll-behavior: smooth;
  }
  a {
    color: #fa1e0e;
    text-decoration: none;
    transition: color 0.3s ease;
  }
  a:hover, a:focus { color: #ff4b3e; outline: none; }
  h1,h2,h3,h4,h5,h6 {
    font-family: 'Share Tech Mono', monospace;
    margin-bottom: 1rem;
    font-weight: 600;
    letter-spacing: 0.07em;
  }
  h1 { font-size: 3rem; }
  h2 { font-size: 2.25rem; }
  h3 { font-size: 1.75rem; }
  p {
    max-width: 900px;
    margin-bottom: 1.5rem;
    font-weight: 400;
    color: #ddd;
  }
  ul {
    margin-left: 1.25rem;
    margin-bottom: 1.5rem;
  }
  ul li { margin-bottom: 0.6rem; }
  button {
    font-family: 'Space Grotesk', sans-serif;
    cursor: pointer;
    background: #fa1e0e;
    border: none;
    color: #fff;
    padding: 0.8rem 1.2rem;
    border-radius: 6px;
    font-weight: 600;
    letter-spacing: 0.05em;
    user-select: none;
    transition: background-color 0.3s ease;
  }
  button:hover, button:focus {
    background: #ff4b3e;
    outline: none;
  }

  /* Scrollbar */
  ::-webkit-scrollbar {
    width: 10px;
  }
  ::-webkit-scrollbar-track {
    background: #111;
  }
  ::-webkit-scrollbar-thumb {
    background-color: #fa1e0e;
    border-radius: 10px;
    border: 2px solid #111;
  }

  /* LAYOUT */
  header {
    text-align: center;
    padding: 4rem 1rem 2rem 1rem;
    position: relative;
    z-index: 10;
  }
  header p {
    max-width: 620px;
    margin: 0 auto;
    font-weight: 300;
    font-size: 1.125rem;
    opacity: 0.75;
  }
  main {
    max-width: 980px;
    margin: 0 auto;
    padding: 2rem 1rem 6rem 1rem;
    position: relative;
    z-index: 10;
  }
  section {
    margin-bottom: 6rem;
    opacity: 0;
    transform: translateY(60px);
  }
  section.active {
    opacity: 1 !important;
    transform: translateY(0) !important;
    transition: opacity 1s ease, transform 1s ease;
  }

  /* CLOCK DISPLAYS */
  .clock-display {
    font-family: 'Share Tech Mono', monospace;
    font-size: 3.5rem;
    text-align: center;
    color: #50ff75;
    background-color: #111;
    padding: 1.5rem 2rem;
    border-radius: 12px;
    box-shadow:
      0 0 15px #50ff75,
      inset 0 0 12px #0c6d38;
    user-select: none;
    max-width: 320px;
    margin: 2rem auto 0 auto;
    letter-spacing: 0.2em;
  }
  .digital-clock {
    display: flex;
    justify-content: center;
    gap: 0.4rem;
    font-size: 4rem;
    user-select: none;
    margin-top: 2rem;
  }
  .digital-clock .digit {
    background: #0d0d0d;
    color: #50ff75;
    border-radius: 8px;
    padding: 0.3rem 0.8rem;
    width: 2.3rem;
    text-align: center;
    font-weight: 700;
    box-shadow: 0 0 8px #1fa23c;
    transition: all 0.4s ease;
    position: relative;
    overflow: hidden;
  }
  .digital-clock .colon {
    font-weight: 700;
    padding: 0 0.4rem;
    line-height: 1;
    color: #88ff9a;
    user-select: none;
  }
  .digit-rolling {
    animation: rollDigit 0.4s ease forwards;
  }
  @keyframes rollDigit {
    0% { transform: translateY(-100%); opacity: 0; }
    100% { transform: translateY(0); opacity: 1; }
  }

  /* BUTTONS */
  #backToTopBtn {
    position: fixed;
    bottom: 2.5rem;
    right: 2.5rem;
    background: #fa1e0e;
    border-radius: 50%;
    width: 48px;
    height: 48px;
    border: none;
    color: white;
    font-size: 2rem;
    opacity: 0;
    pointer-events: none;
    transition: opacity 0.4s ease;
    z-index: 999;
    display: flex;
    justify-content: center;
    align-items: center;
    user-select: none;
  }
  #backToTopBtn.show {
    opacity: 1;
    pointer-events: auto;
  }

  /* IFRAME STYLES */
  iframe {
    width: 100%;
    height: 350px;
    border: none;
    border-radius: 14px;
    margin-top: 1.75rem;
    box-shadow: 0 0 12px #fa1e0eaa;
    user-select: none;
    pointer-events: auto;
  }

  /* CODE SNIPPET */
  pre {
    background: #111;
    color: #8cff8c;
    padding: 1.2rem 1.5rem;
    border-radius: 10px;
    font-family: 'Share Tech Mono', monospace;
    overflow-x: auto;
    max-width: 100%;
    box-shadow: inset 0 0 20px #0a0;
    user-select: text;
  }

  /* DISCLAIMER BOX */
  .disclaimer {
    background-color: #1b1b1b;
    border-left: 5px solid #fa1e0e;
    padding: 2rem 2rem;
    margin: 3rem auto 6rem auto;
    max-width: 900px;
    box-shadow: 0 0 15px #fa1e0e55;
    user-select: text;
    color: #e4e4e4;
  }
  .disclaimer strong {
    color: #fa1e0e;
  }

  /* ADDITIONAL INFO & FOOTER */
  .additional-info {
    max-width: 900px;
    margin: 0 auto 6rem auto;
    font-size: 1rem;
    color: #aaa;
    line-height: 1.4;
    user-select: text;
  }
  footer {
    text-align: center;
    font-size: 0.9rem;
    color: #666;
    padding-bottom: 4rem;
    user-select: none;
    border-top: 1px solid #222;
    max-width: 900px;
    margin: 0 auto;
  }

  /* THREE.JS HALLWAY CONTAINER */
  #hallway-container {
    position: fixed;
    top: 0; left: 0;
    width: 100vw;
    height: 100vh;
    z-index: 1;
    pointer-events: none;
    user-select: none;
    background: linear-gradient(90deg, #080808 0%, #0f0f0f 40%, #111111 60%, #080808 100%);
  }

  /* THEME TOGGLE BUTTON */
  #themeToggle {
    position: fixed;
    top: 1rem;
    right: 1rem;
    background: #222;
    border: 2px solid #fa1e0e;
    border-radius: 6px;
    padding: 0.5rem 1rem;
    color: #fa1e0e;
    font-weight: 600;
    cursor: pointer;
    z-index: 1000;
    transition: background-color 0.3s ease, color 0.3s ease;
  }
  #themeToggle:hover, #themeToggle:focus {
    background-color: #fa1e0e;
    color: #111;
    outline: none;
  }

  /* RESPONSIVE */
  @media (max-width: 768px) {
    header h1 { font-size: 2.25rem; }
    .clock-display {
      font-size: 2.5rem;
      max-width: 260px;
    }
    .digital-clock {
      font-size: 2.8rem;
      gap: 0.25rem;
    }
    .digital-clock .digit {
      width: 1.8rem;
      padding: 0.25rem 0.5rem;
    }
    iframe { height: 280px; }
  }
</style>
</head>
<body>
  <!-- THEME TOGGLE -->
  <button id="themeToggle" aria-label="Toggle dark and light theme" title="Toggle theme">ðŸŒ™ Dark</button>

  <!-- 3D hallway background -->
  <div id="hallway-container" aria-hidden="true"></div>

  <header role="banner">
    <h1>Hallway of Doom Clocks</h1>
    <p>Scroll through humanity's symbolic countdowns: scientific, political, and speculative timelines reflecting existential risks.</p>
  </header>

  <main role="main" tabindex="-1">
    <!-- Disclaimer -->
    <section class="disclaimer" role="alert" aria-live="assertive">
      <h2>Disclaimer &amp; Intent</h2>
      <p><strong>Important:</strong> The clocks shown here, including the Doomsday Clock and Climate Clock, are <strong>symbolic human constructs</strong>. They do <em>not</em> represent divine prophecy or a definitive prediction of the future.</p>
      <p>This site aims to <strong>inform and educate</strong> about their historical, political, and scientific context, respecting Islamic teachings about the unknown timing of the Hour.</p>
    </section>

    <!-- Doomsday Clock Section -->
    <section id="doomsday" tabindex="0" aria-label="Doomsday Clock Section" class="reveal">
      <h2>Doomsday Clock</h2>
      <p>Maintained by the <a href="https://thebulletin.org/doomsday-clock/" target="_blank" rel="noopener noreferrer">Bulletin of the Atomic Scientists</a>, this symbolic clock reflects existential risks like nuclear war, climate change, and disruptive tech. It is updated annually by experts based on current global threats.</p>
      <img
        loading="lazy"
        src="https://thebulletin.org/wp-content/uploads/2024/01/2024-DoomsdayClock_Hero-1536x864.jpg"
        alt="Doomsday Clock 2024"
        style="width: 100%; border-radius: 10px; margin: 2rem 0;"
      />
      <div class="clock-display" id="doomsday-time" aria-live="polite" aria-atomic="true" aria-label="Doomsday clock real-time countdown">--:--:--</div>
    </section>

    <!-- Climate Clock Section -->
    <section id="climate" tabindex="0" aria-label="Climate Clock Section" class="reveal">
      <h2>Climate Clock</h2>
      <p>This real-time countdown is sourced from <a href="https://climateclock.world/" target="_blank" rel="noopener noreferrer">climateclock.world</a>, tracking time remaining to limit global warming to 1.5Â°C based on current trends.</p>
      <iframe
        loading="lazy"
        src="https://climateclock.world/widget/"
        title="Climate Clock Widget"
        width="100%"
        height="350"
        style="border: none; border-radius: 14px; margin-top: 1.5rem; box-shadow: 0 0 12px #fa1e0eaa;"
        aria-label="Climate clock real-time countdown"
      ></iframe>
    </section>

    <!-- AI Singularity Clock Section -->
    <section id="ai" tabindex="0" aria-label="AI Singularity Clock Section" class="reveal">
      <h2>AI Singularity Clock</h2>
      <p>This symbolic clock estimates the progression toward human-level artificial intelligence. It counts down to a speculative date set by researchers and futurists.</p>
      <div class="digital-clock clock-display" id="ai-time" aria-live="polite" aria-atomic="true" aria-label="AI Singularity real-time countdown">
        <span class="digit" aria-hidden="true">0</span>
        <span class="digit" aria-hidden="true">0</span>
        <span class="colon" aria-hidden="true">:</span>
        <span class="digit" aria-hidden="true">0</span>
        <span class="digit" aria-hidden="true">0</span>
        <span class="colon" aria-hidden="true">:</span>
        <span class="digit" aria-hidden="true">0</span>
        <span class="digit" aria-hidden="true">0</span>
      </div>
    </section>

    <!-- World Population Clock -->
    <section id="population" tabindex="0" aria-label="World Population Clock Section" class="reveal">
      <h2>World Population Clock</h2>
      <p>This clock estimates real-time world population growth, based on current birth and death rates sourced from UN data.</p>
      <div class="clock-display" id="population-count" aria-live="polite" aria-atomic="true" aria-label="World population current count">--</div>
      <p><small>Population data sourced from <a href="https://www.un.org/en/sections/issues-depth/population/" target="_blank" rel="noopener noreferrer">United Nations</a></small></p>
    </section>

    <!-- Islamic Perspective Section -->
    <section id="islamic-view" tabindex="0" aria-label="Islamic Perspective Section" class="reveal">
      <h2>Islamic Perspective on Predicting the Future</h2>
      <p>In Islam, the exact timing of the Hour (Day of Judgment) is unknown and only Allah knows it. As the Quran states:</p>
      <blockquote style="font-style: italic; max-width: 600px; margin: 1rem auto; color: #aab;">
        "Indeed, Allah [alone] has knowledge of the Hour..."<br />
        <small><em>(Surah Luqman 31:34)</em></small>
      </blockquote>
      <p>Therefore, symbolic clocks like these serve as reminders for reflection, preparation, and awareness, not as definitive prophecy.</p>
      <p>Hijri (Islamic) Date Today:</p>
      <div id="hijri-date" class="clock-display" aria-live="polite" aria-atomic="true" aria-label="Current Hijri date">Loading...</div>
    </section>

    <!-- Sample Code Snippet Section -->
    <section id="code" tabindex="0" aria-label="Code Snippet Example Section" class="reveal">
      <h2>Sample Countdown Code Snippet</h2>
      <p>Here is a simplified JavaScript snippet that updates a countdown clock every second:</p>
      <pre><code class="language-js">
// Target date/time for countdown (e.g. midnight UTC)
const targetTime = new Date(Date.UTC(2025, 5, 25, 0, 0, 0));

function updateCountdown() {
  const now = new Date();
  const diff = targetTime - now;
  if (diff <= 0) {
    console.log("Countdown complete!");
    return;
  }
  const seconds = Math.floor(diff / 1000) % 60;
  const minutes = Math.floor(diff / 1000 / 60) % 60;
  const hours = Math.floor(diff / 1000 / 60 / 60) % 24;
  console.log(\`\${hours}:\${minutes}:\${seconds}\`);
}

setInterval(updateCountdown, 1000);
      </code></pre>
    </section>
  </main>

  <footer role="contentinfo">
    <p>Â© 2025 Hallway of Doom Clocks â€” Created with care and respect for knowledge.</p>
  </footer>

  <!-- Back to top button -->
  <button id="backToTopBtn" aria-label="Back to top" title="Back to top">â†‘</button>

  <script>
    "use strict";

    // THEME TOGGLE (dark/light)
    const themeToggleBtn = document.getElementById('themeToggle');
    themeToggleBtn.addEventListener('click', () => {
      if(document.documentElement.getAttribute('data-theme') === 'dark') {
        document.documentElement.setAttribute('data-theme', 'light');
        themeToggleBtn.textContent = 'ðŸŒž Light';
        themeToggleBtn.style.color = '#fa1e0e';
        themeToggleBtn.style.backgroundColor = '#222';
      } else {
        document.documentElement.setAttribute('data-theme', 'dark');
        themeToggleBtn.textContent = 'ðŸŒ™ Dark';
        themeToggleBtn.style.color = '#fa1e0e';
        themeToggleBtn.style.backgroundColor = '#222';
      }
    });

    // GSAP ScrollReveal
    gsap.registerPlugin(ScrollTrigger);
    document.querySelectorAll("section.reveal").forEach(section => {
      ScrollTrigger.create({
        trigger: section,
        start: "top 85%",
        onEnter: () => {
          section.classList.add("active");
        },
        once: true,
      });
    });

    // Back to top button logic
    const backToTopBtn = document.getElementById("backToTopBtn");
    window.addEventListener("scroll", () => {
      if (window.scrollY > window.innerHeight / 2) {
        backToTopBtn.classList.add("show");
      } else {
        backToTopBtn.classList.remove("show");
      }
    });
    backToTopBtn.addEventListener("click", () => {
      window.scrollTo({ top: 0, behavior: "smooth" });
    });

    // --- DOOMSDAY CLOCK REALISTIC COUNTDOWN ---
    const doomsdayDisplay = document.getElementById("doomsday-time");

    // Bulletin of Atomic Scientists sets the Doomsday Clock in minutes to midnight (example: 90 seconds = 1.5 min)
    // For demo: we'll do a symbolic countdown to next midnight UTC (00:00:00) - resets daily
    function updateDoomsdayClock() {
      const now = new Date();
      const nextMidnightUTC = new Date(Date.UTC(now.getUTCFullYear(), now.getUTCMonth(), now.getUTCDate() + 1, 0, 0, 0));
      let diff = nextMidnightUTC - now;
      if (diff < 0) diff = 0;

      const hrs = Math.floor(diff / (1000 * 60 * 60));
      const mins = Math.floor((diff / (1000 * 60)) % 60);
      const secs = Math.floor((diff / 1000) % 60);

      const hh = String(hrs).padStart(2, '0');
      const mm = String(mins).padStart(2, '0');
      const ss = String(secs).padStart(2, '0');

      doomsdayDisplay.textContent = `${hh}:${mm}:${ss}`;
    }
    setInterval(updateDoomsdayClock, 1000);
    updateDoomsdayClock();

    // --- AI SINGULARITY CLOCK ---
    const aiTargetDate = new Date(Date.UTC(2045, 11, 31, 0, 0, 0)); // Dec 31, 2045 UTC
    const aiDisplay = document.getElementById("ai-time");
    const aiDigits = aiDisplay.querySelectorAll(".digit");

    function updateAISingularityClock() {
      const now = new Date();
      let diff = aiTargetDate - now;
      if (diff <= 0) {
        aiDisplay.textContent = "00:00:00";
        return;
      }

      const hrs = Math.floor(diff / (1000 * 60 * 60)) % 100; // 0-99 hrs
      const mins = Math.floor(diff / (1000 * 60)) % 60;
      const secs = Math.floor(diff / 1000) % 60;

      const hStr = String(hrs).padStart(2, '0');
      const mStr = String(mins).padStart(2, '0');
      const sStr = String(secs).padStart(2, '0');

      const newDigits = [...hStr, ...mStr, ...sStr];

      newDigits.forEach((d, i) => {
        if (aiDigits[i].textContent !== d) {
          aiDigits[i].textContent = d;
          aiDigits[i].classList.add("digit-rolling");
          setTimeout(() => aiDigits[i].classList.remove("digit-rolling"), 400);
        }
      });
    }
    setInterval(updateAISingularityClock, 1000);
    updateAISingularityClock();

    // --- WORLD POPULATION CLOCK ---
    // Basic approximation based on UN data and assumptions:
    // World population grows roughly 83 million/year (2023 est)
    // Using epoch time since Jan 1 2023 as baseline with base population 8 billion approx
    const populationDisplay = document.getElementById('population-count');
    const baseDate = new Date(Date.UTC(2023, 0, 1, 0, 0, 0)); // Jan 1, 2023 UTC
    const basePopulation = 8000000000; // 8 billion
    const yearlyGrowth = 83000000; // 83 million

    function updatePopulation() {
      const now = new Date();
      const elapsedMs = now - baseDate;
      const growthPerMs = yearlyGrowth / (365 * 24 * 60 * 60 * 1000);
      const currentPopulation = Math.floor(basePopulation + elapsedMs * growthPerMs);
      populationDisplay.textContent = currentPopulation.toLocaleString();
    }
    setInterval(updatePopulation, 1000);
    updatePopulation();

    // --- HIJRI DATE (ISLAMIC CALENDAR) ---
    // Basic Hijri calculation from Gregorian date - approximation
    // Uses Umm al-Qura calendar algorithm approximation (not 100% precise)
    const hijriDisplay = document.getElementById('hijri-date');
    function gregorianToHijri(gDate) {
      // This method is approximate; for precise dates use API or library
      // Source: https://www.staff.science.uu.nl/~gent0113/islam/hijri.htm
      const day = gDate.getUTCDate();
      const month = gDate.getUTCMonth() + 1; // Jan=1
      const year = gDate.getUTCFullYear();

      const jd = Math.floor((1461 * (year + 4800 + Math.floor((month - 14) / 12))) / 4) +
                 Math.floor((367 * (month - 2 - 12 * (Math.floor((month - 14) / 12)))) / 12) -
                 Math.floor((3 * Math.floor((year + 4900 + Math.floor((month - 14) / 12)) / 100)) / 4) +
                 day - 32075;

      const islamicEpoch = 1948439.5; // Julian day of 1 Muharram 1 AH

      const daysSinceEpoch = jd - islamicEpoch;

      const islamicYear = Math.floor((30 * daysSinceEpoch + 10646) / 10631);
      const islamicMonth = Math.min(12, Math.ceil((daysSinceEpoch - 29 - hijriYearStart(islamicYear)) / 29.5) + 1);
      const islamicDay = Math.floor(daysSinceEpoch - hijriYearStart(islamicYear) - 29.5 * (islamicMonth - 1)) + 1;

      return { year: islamicYear, month: islamicMonth, day: islamicDay };
    }
    // Helper to approximate start day of Hijri year in Julian days
    function hijriYearStart(year) {
      return (year - 1) * 354 + Math.floor((3 + 11 * year) / 30);
    }

    function updateHijri() {
      const now = new Date();
      const hijri = gregorianToHijri(now);
      // Hijri month names (Arabic transliteration)
      const monthNames = [
        "Muharram", "Safar", "RabiÊ¿ al-Awwal", "RabiÊ¿ ath-Thani",
        "Jumada al-Awwal", "Jumada ath-Thani", "Rajab", "ShaÊ¿ban",
        "Ramadan", "Shawwal", "Dhu al-QiÊ¿dah", "Dhu al-á¸¤ijjah"
      ];
      const dateStr = `${hijri.day} ${monthNames[hijri.month - 1]} ${hijri.year} AH`;
      hijriDisplay.textContent = dateStr;
    }
    setInterval(updateHijri, 60 * 1000);
    updateHijri();

    // --- THREE.JS 3D HALLWAY BACKGROUND ---
    (function() {
      const container = document.getElementById('hallway-container');
      const scene = new THREE.Scene();

      // Camera
      const camera = new THREE.PerspectiveCamera(70, window.innerWidth / window.innerHeight, 0.1, 200);
      camera.position.z = 5;

      // Renderer
      const renderer = new THREE.WebGLRenderer({ antialias: true, alpha: true });
      renderer.setSize(window.innerWidth, window.innerHeight);
      container.appendChild(renderer.domElement);

      // Resize handler
      window.addEventListener('resize', () => {
        camera.aspect = window.innerWidth / window.innerHeight;
        camera.updateProjectionMatrix();
        renderer.setSize(window.innerWidth, window.innerHeight);
      });

      // Tunnel geometry (cylinder flipped inside out)
      const geometry = new THREE.CylinderGeometry(4, 4, 80, 32, 1, true);
      geometry.scale(1, 1, -1); // invert normals

      // Gradient texture for tunnel stripes
      function createGradientTexture() {
        const size = 512;
        const canvas = document.createElement('canvas');
        canvas.width = size;
        canvas.height = size;
        const ctx = canvas.getContext('2d');

        // Gradient vertical stripes
        const grad = ctx.createLinearGradient(0, 0, size, size);
        grad.addColorStop(0, "rgba(250, 30, 14, 0.1)");
        grad.addColorStop(0.5, "rgba(255, 75, 62, 0.3)");
        grad.addColorStop(1, "rgba(250, 30, 14, 0.1)");

        ctx.fillStyle = grad;
        ctx.fillRect(0, 0, size, size);

        // Faint horizontal lines
        ctx.strokeStyle = "rgba(255, 255, 255, 0.05)";
        ctx.lineWidth = 2;
        for(let y = 0; y < size; y += 32) {
          ctx.beginPath();
          ctx.moveTo(0, y);
          ctx.lineTo(size, y);
          ctx.stroke();
        }

        return canvas;
      }
      const texture = new THREE.CanvasTexture(createGradientTexture());
      texture.wrapS = THREE.RepeatWrapping;
      texture.wrapT = THREE.RepeatWrapping;
      texture.repeat.set(40, 2);

      const material = new THREE.MeshBasicMaterial({
        map: texture,
        side: THREE.BackSide,
        transparent: true,
        opacity: 0.25,
      });

      const tunnel = new THREE.Mesh(geometry, material);
      scene.add(tunnel);

      // Point lights simulating glowing clocks along tunnel
      const lights = [];
      const lightCount = 16;
      for(let i = 0; i < lightCount; i++) {
        const light = new THREE.PointLight(0xfa1e0e, 0.7, 20);
        light.position.set(0, 0, -i * 5 - 10);
        scene.add(light);
        lights.push(light);
      }

      // Animate tunnel scroll and lights
      let scrollZ = 0;
      function animate() {
        requestAnimationFrame(animate);
        scrollZ += 0.02;
        tunnel.material.map.offset.x = scrollZ * 0.03;
        tunnel.material.map.offset.y = scrollZ * 0.02;

        // Pulse lights
        const time = performance.now() * 0.002;
        lights.forEach((light, idx) => {
          light.intensity = 0.4 + 0.3 * Math.sin(time + idx);
          light.position.x = Math.sin(time + idx) * 0.7;
          light.position.y = Math.cos(time + idx * 1.2) * 0.6;
        });

        renderer.render(scene, camera);
      }
      animate();
    })();
  </script>
</body>
</html>
